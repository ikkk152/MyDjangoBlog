{% extends 'layout/base.html' %}

{% block css %}
    <style>
        .grid {
            display: grid;
            grid-template-columns: 1fr 3fr 1fr;
            grid-column-gap: 10px;
            height: 100vh;
        }

        .content {
            overflow-y: scroll;
        }

        .blog {
            margin-top: 10px;
            border-bottom: 2px solid #0b0e0e;
        }

        .blog > .user, .blog > p {
            display: inline-block;
        }

        .user .avatar {
            display: inline-block;
        }

        .follow {
            border-radius: 100%;
        }
    </style>
{% endblock %}

{% block content %}

    <div class="grid">
        <div class="tag">

        </div>
        <div class="content">

            {% for article in articles %}
                <div class="blog">
                    <h4><a href="#">{{ article.title }}</a></h4>
                    <div class="user">
                        <a href="{% url 'user_detail' article.user.id %}">
                            {% if article.user.avatar %}
                                <img src="{{ article.user.avatar }}" alt="{{ request.user.username }}">
                            {% else %}
                                <div class="avatar">
                                    {{ article.user.username|upper|first }}
                                </div>
                            {% endif %}
                        </a>
                        <button type="button" class="follow btn btn-outline-danger">关注</button>
                        <button type="button" class="follow btn btn-outline-secondary">已关注</button>
                    </div>

                    <div>
                        {% if article.content|length > 80 %}
                            <p>{{ article.content|slice:80 }}...</p>
                        {% else %}
                            <p>{{ article.content }}</p>
                        {% endif %}
                    </div>
                    <div>
                        <small>
                            <a href="{% url 'user_detail' article.user.id %}">{{ article.user.username }}</a>
                            {{ article.create_datetime }}
                            <i class="fa-solid fa-eye"></i> {{ article.views }}
                        </small>
                    </div>
                </div>
            {% endfor %}
            {% if is_paginated %}
                {% include 'layout/pagination.html' %}
            {% endif %}
        </div>
        <div class="recommend"></div>

    </div>
{% endblock %}

{% block js %}

{% endblock %}